{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../data.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../product-form/product-form.component\";\nfunction ProductEditComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u0442\\u043E\\u0432\\u0430\\u0440\\u0435\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"product-form\", 2);\n    i0.ɵɵlistener(\"productChange\", function ProductEditComponent_div_0_Template_product_form_productChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.product = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4);\n    i0.ɵɵlistener(\"click\", function ProductEditComponent_div_0_Template_input_click_5_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.save());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"product\", ctx_r0.product);\n  }\n}\nexport class ProductEditComponent {\n  constructor(dataService, router, activeRoute) {\n    this.dataService = dataService;\n    this.router = router;\n    this.loaded = false;\n    this.id = Number.parseInt(activeRoute.snapshot.params[\"id\"]);\n  }\n  ngOnInit() {\n    if (this.id) this.dataService.getProduct(this.id).subscribe(data => {\n      this.product = data;\n      if (this.product != null) this.loaded = true;\n    });\n  }\n  save() {\n    this.dataService.updateProduct(this.product).subscribe(data => this.router.navigateByUrl(\"/\"));\n  }\n}\nProductEditComponent.ɵfac = function ProductEditComponent_Factory(t) {\n  return new (t || ProductEditComponent)(i0.ɵɵdirectiveInject(i1.DataService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nProductEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductEditComponent,\n  selectors: [[\"ng-component\"]],\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"routerLink\", \"/\", 1, \"nav-link\"], [3, \"product\", \"productChange\"], [1, \"form-group\"], [\"type\", \"button\", \"value\", \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\", 1, \"btn\", \"btn-success\", 3, \"click\"]],\n  template: function ProductEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductEditComponent_div_0_Template, 6, 1, \"div\", 0);\n      i0.ɵɵelementStart(1, \"a\", 1);\n      i0.ɵɵtext(2, \"\\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLink, i4.ProductFormComponent],\n  encapsulation: 2\n});","map":{"version":3,"mappings":";;;;;;;;IAAAA,2BAAoB;IACZA,uJAAyB;IAAAA,iBAAK;IAClCA,uCAAoC;IAAtBA;MAAAA;MAAA;MAAA;IAAA,EAAqB;IAACA,iBAAe;IACnDA,8BAAwB;IACmBA;MAAAA;MAAA;MAAA,OAASA,4BAAM;IAAA,EAAC;IAAvDA,iBAAkF;;;;IAFxEA,eAAqB;IAArBA,wCAAqB;;;ACOvC,OAAM,MAAOC,oBAAoB;EAM7BC,YAAoBC,WAAwB,EAAUC,MAAc,EAAEC,WAA2B;IAA7E,gBAAW,GAAXF,WAAW;IAAuB,WAAM,GAANC,MAAM;IAF5D,WAAM,GAAY,KAAK;IAGnB,IAAI,CAACE,EAAE,GAAGC,MAAM,CAACC,QAAQ,CAACH,WAAW,CAACI,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC,CAAC;EAChE;EAEAC,QAAQ;IACJ,IAAI,IAAI,CAACL,EAAE,EACP,IAAI,CAACH,WAAW,CAACS,UAAU,CAAC,IAAI,CAACN,EAAE,CAAC,CAC/BO,SAAS,CAAEC,IAAa,IAAI;MACzB,IAAI,CAACC,OAAO,GAAGD,IAAI;MACnB,IAAI,IAAI,CAACC,OAAO,IAAI,IAAI,EAAE,IAAI,CAACC,MAAM,GAAG,IAAI;IAChD,CAAC,CAAC;EACd;EAEAC,IAAI;IACA,IAAI,CAACd,WAAW,CAACe,aAAa,CAAC,IAAI,CAACH,OAAO,CAAC,CAACF,SAAS,CAACC,IAAI,IAAI,IAAI,CAACV,MAAM,CAACe,aAAa,CAAC,GAAG,CAAC,CAAC;EAClG;;;mBArBSlB,oBAAoB;AAAA;;QAApBA,oBAAoB;EAAAmB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDTjCxB,qEAMM;MACNA,4BAAmC;MAAAA,0FAAc;MAAAA,iBAAI;;;MAP/CA,iCAAY","names":["i0","ProductEditComponent","constructor","dataService","router","activeRoute","id","Number","parseInt","snapshot","params","ngOnInit","getProduct","subscribe","data","product","loaded","save","updateProduct","navigateByUrl","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Zaid\\source\\repos\\HelloAngularApp\\HelloAngularApp\\ClientApp\\src\\app\\product-edit\\product-edit.component.html","C:\\Users\\Zaid\\source\\repos\\HelloAngularApp\\HelloAngularApp\\ClientApp\\src\\app\\product-edit\\product-edit.component.ts"],"sourcesContent":["<div *ngIf=\"loaded\">\r\n    <h2>Изменение данных о товаре</h2>\r\n    <product-form [(product)]=\"product\"></product-form>\r\n    <div class=\"form-group\">\r\n        <input type=\"button\" value=\"Сохранить\" (click)=\"save()\" class=\"btn btn-success\" />\r\n    </div>\r\n</div>\r\n<a routerLink=\"/\" class=\"nav-link\">Назад к списку</a>","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DataService } from '../data.service';\r\nimport { Product } from '../product';\r\n\r\n@Component({\r\n    templateUrl: './product-edit.component.html'\r\n})\r\n\r\nexport class ProductEditComponent implements OnInit {\r\n\r\n    id: number;\r\n    product: Product;    // изменяемый объект\r\n    loaded: boolean = false;\r\n\r\n    constructor(private dataService: DataService, private router: Router, activeRoute: ActivatedRoute) {\r\n        this.id = Number.parseInt(activeRoute.snapshot.params[\"id\"]);\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (this.id)\r\n            this.dataService.getProduct(this.id)\r\n                .subscribe((data: Product) => {\r\n                    this.product = data;\r\n                    if (this.product != null) this.loaded = true;\r\n                });\r\n    }\r\n\r\n    save() {\r\n        this.dataService.updateProduct(this.product).subscribe(data => this.router.navigateByUrl(\"/\"));\r\n    }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}