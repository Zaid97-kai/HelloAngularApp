{"ast":null,"code":"import { DataService } from './data.service';\nimport { Product } from './product';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AppComponent_table_3_tr_11_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function AppComponent_table_3_tr_11_ng_template_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const p_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.editProduct(p_r6));\n    });\n    i0.ɵɵtext(8, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AppComponent_table_3_tr_11_ng_template_1_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const p_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.delete(p_r6));\n    });\n    i0.ɵɵtext(10, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r6 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(p_r6 == null ? null : p_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r6 == null ? null : p_r6.company);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r6 == null ? null : p_r6.price);\n  }\n}\nfunction AppComponent_table_3_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, AppComponent_table_3_tr_11_ng_template_1_Template, 11, 3, \"ng-template\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    const _r1 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.product == null ? null : ctx_r5.product.id) != p_r6.id)(\"ngIfElse\", _r1);\n  }\n}\nfunction AppComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 4)(1, \"thead\")(2, \"tr\")(3, \"td\");\n    i0.ɵɵtext(4, \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6, \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8, \"\\u0426\\u0435\\u043D\\u0430\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"td\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, AppComponent_table_3_tr_11_Template, 2, 2, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.products);\n  }\n}\nfunction AppComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\")(1, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_4_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.product.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(2, \"td\")(3, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_4_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.product.company = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\")(5, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_4_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.product.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\")(7, \"input\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_4_Template_input_click_7_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.save());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 12);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_4_Template_input_click_8_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.cancel());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.product.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.product.company);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.product.price);\n  }\n}\nfunction AppComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"label\");\n    i0.ɵɵtext(2, \"\\u041C\\u043E\\u0434\\u0435\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_6_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.product.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 13)(5, \"label\");\n    i0.ɵɵtext(6, \"\\u041F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_6_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.product.company = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 13)(9, \"label\");\n    i0.ɵɵtext(10, \"\\u0426\\u0435\\u043D\\u0430\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function AppComponent_ng_template_6_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.product.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\")(13, \"input\", 14);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_6_Template_input_click_13_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.save());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 15);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_6_Template_input_click_14_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.cancel());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.company);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.price);\n  }\n}\nexport class AppComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.product = new Product(); // изменяемый товар\n    this.tableMode = true; // табличный режим\n  }\n  // загрузка данных при старте компонента \n  ngOnInit() {\n    this.loadProducts();\n  }\n  // получаем данные через сервис\n  loadProducts() {\n    this.dataService.getProducts().subscribe(data => this.products = data);\n  }\n  // сохранение данных\n  save() {\n    if (this.product.id == null) {\n      this.dataService.createProduct(this.product).subscribe(data => this.products.push(data));\n    } else {\n      this.dataService.updateProduct(this.product).subscribe(data => this.loadProducts());\n    }\n    this.cancel();\n  }\n  editProduct(p) {\n    this.product = p;\n  }\n  cancel() {\n    this.product = new Product();\n    this.tableMode = true;\n  }\n  delete(p) {\n    this.dataService.deleteProduct(p.id).subscribe(data => this.loadProducts());\n  }\n  add() {\n    this.cancel();\n    this.tableMode = false;\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app\"]],\n  features: [i0.ɵɵProvidersFeature([DataService])],\n  decls: 8,\n  vars: 2,\n  consts: [[\"type\", \"button\", \"value\", \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\", 1, \"btn\", \"btn-default\", 3, \"click\"], [\"class\", \"table table-striped\", 4, \"ngIf\", \"ngIfElse\"], [\"edit\", \"\"], [\"create\", \"\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngIf\", \"ngIfElse\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"], [\"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"button\", \"value\", \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", \"value\", \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\", 1, \"btn\", \"btn-sm\", \"btn-warning\", 3, \"click\"], [1, \"form-group\"], [\"type\", \"button\", \"value\", \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", \"value\", \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\", 1, \"btn\", \"btn-warning\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043C\\u043E\\u0434\\u0435\\u043B\\u0435\\u0439\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"input\", 0);\n      i0.ɵɵlistener(\"click\", function AppComponent_Template_input_click_2_listener() {\n        return ctx.add();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, AppComponent_table_3_Template, 12, 1, \"table\", 1);\n      i0.ɵɵtemplate(4, AppComponent_ng_template_4_Template, 9, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(6, AppComponent_ng_template_6_Template, 15, 3, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r3 = i0.ɵɵreference(7);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.tableMode)(\"ngIfElse\", _r3);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgModel],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["DataService","Product","i0","AppComponent","constructor","dataService","ngOnInit","loadProducts","getProducts","subscribe","data","products","save","product","id","createProduct","push","updateProduct","cancel","editProduct","p","tableMode","delete","deleteProduct","add","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Zaid\\source\\repos\\HelloAngularApp\\HelloAngularApp\\ClientApp\\src\\app\\app.component.ts","C:\\Users\\Zaid\\source\\repos\\HelloAngularApp\\HelloAngularApp\\ClientApp\\src\\app\\app.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from './data.service';\r\nimport { Product } from './product';\r\n\r\n@Component({\r\n    selector: 'app',\r\n    templateUrl: './app.component.html',\r\n    providers: [DataService]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n    product: Product = new Product();   // изменяемый товар\r\n    products: Product[];                // массив товаров\r\n    tableMode: boolean = true;          // табличный режим\r\n\r\n    constructor(private dataService: DataService) { }\r\n\r\n    // загрузка данных при старте компонента \r\n    ngOnInit() {\r\n        this.loadProducts(); \r\n    }\r\n\r\n    // получаем данные через сервис\r\n    loadProducts() {\r\n        this.dataService.getProducts()\r\n            .subscribe((data: Product[]) => this.products = data);\r\n    }\r\n\r\n    // сохранение данных\r\n    save() {\r\n        if (this.product.id == null) {\r\n            this.dataService.createProduct(this.product)\r\n                .subscribe((data: Product) => this.products.push(data));\r\n        } else {\r\n            this.dataService.updateProduct(this.product)\r\n                .subscribe(data => this.loadProducts());\r\n        }\r\n        this.cancel();\r\n    }\r\n\r\n    editProduct(p: Product) {\r\n        this.product = p;\r\n    }\r\n\r\n    cancel() {\r\n        this.product = new Product();\r\n        this.tableMode = true;\r\n    }\r\n\r\n    delete(p: Product) {\r\n        this.dataService.deleteProduct(p.id)\r\n            .subscribe(data => this.loadProducts());\r\n    }\r\n\r\n    add() {\r\n        this.cancel();\r\n        this.tableMode = false;\r\n    }\r\n}","<h1>Список моделей</h1>\n<input type=\"button\" value=\"Добавить\" class=\"btn btn-default\" (click)=\"add()\" />\n<table *ngIf=\"tableMode; else create\" class=\"table table-striped\">\n    <thead>\n        <tr>\n            <td>Модель</td>\n            <td>Производитель</td>\n            <td>Цена</td>\n            <td></td>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let p of products\">\n            <ng-template [ngIf]=\"product?.id != p.id\" [ngIfElse]=\"edit\">\n                <td>{{p?.name}}</td>\n                <td>{{p?.company}}</td>\n                <td>{{p?.price}}</td>\n                <td>\n                    <button class=\"btn btn-sm btn-primary\" (click)=\"editProduct(p)\">Изменить</button>\n                    <button class=\"btn btn-sm btn-danger\" (click)=\"delete(p)\">Удалить</button>\n                </td>\n            </ng-template>\n        </tr>\n    </tbody>\n</table>\n\n<!--шаблон для редактирования-->\n<ng-template #edit>\n    <td>\n        <input type=\"text\" [(ngModel)]=\"product.name\" class=\"form-control\" />\n    </td>\n    <td>\n        <input type=\"text\" [(ngModel)]=\"product.company\" class=\"form-control\" />\n    </td>\n    <td>\n        <input type=\"number\" [(ngModel)]=\"product.price\" class=\"form-control\" />\n    </td>\n    <td>\n        <input type=\"button\" value=\"Сохранить\" (click)=\"save()\" class=\"btn btn-sm btn-success\" />\n        <input type=\"button\" value=\"Отмена\" (click)=\"cancel()\" class=\"btn btn-sm btn-warning\" />\n    </td>\n</ng-template>\n\n<!--шаблон для добавления-->\n<ng-template #create>\n    <div class=\"form-group\">\n        <label>Модель</label>\n        <input type=\"text\" [(ngModel)]=\"product.name\" class=\"form-control\" />\n    </div>\n    <div class=\"form-group\">\n        <label>Производитель</label>\n        <input type=\"text\" [(ngModel)]=\"product.company\" class=\"form-control\" />\n    </div>\n    <div class=\"form-group\">\n        <label>Цена</label>\n        <input type=\"number\" [(ngModel)]=\"product.price\" class=\"form-control\" />\n    </div>\n    <div>\n        <input type=\"button\" value=\"Сохранить\" (click)=\"save()\" class=\"btn btn-success\" />\n        <input type=\"button\" value=\"Отмена\" (click)=\"cancel()\" class=\"btn btn-warning\" />\n    </div>\n</ng-template>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}